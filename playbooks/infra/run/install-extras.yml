---
- name: Installs and config tmux, vim, rsync, tree, tldr and pip.
  hosts: all
  become: yes 

  tasks:
    - name: Update the repository cache
      apt:
        update_cache: yes
      when: ansible_os_family == 'Debian'  # Check if the system is debian based.

    - name: Installs tmux, vim, rsync, tree, tldr and pip.
      apt:
        name:
          - tmux
          - vim
          - rsync
          - tree
          - tldr
          - python3-pip
        state: present
      when: ansible_os_family == 'Debian'

    # Configurar Vim
    - name: Copies the vim config file.
      copy:
        src: ./configs/vimrc
        dest: ~/.vimrc
      become: yes

    # Actualizar TLDR
    - name: Updates TLDR
      command: tldr --update
      when: ansible_os_family == 'Debian'  # Puedes ajustar esto según la distribución
